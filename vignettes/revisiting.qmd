# Revisiting devoirs grading Dec 24, 2025


-----

1. ABSOLUTELY ESSENTIAL --- Use `setwd()` in the console to go to the grading directory, e.g.
    
```{r}
setwd("~kaplan/UATX/GRADING/QR-A-W26/")
```
 
2. Grab the updates to the submissions

```{r}
Submissions <- update_submissions()
```

or read them from the `JSON_STORE.RDS` file

```r
Submissions <- readRDS("JSON_STORE.RDS")  
```

3. Report on MC answers

```{r}
MC_review <- function(Items) {
  # items with a non-na correct field are multiple choice.
  Items <- Items |> dplyr::filter(!is.na(correct))
  Correct <- Items |> dplyr::select(itemid, contents, correct) |> 
    dplyr::filter(correct) |> unique() |>
    dplyr::mutate(correct = contents) |> dplyr::select(-contents)
    
  Counts <- Items |> 
    dplyr::summarize(count = dplyr::n(), .by = c(itemid, contents)) |>
    tidyr::pivot_wider(id_cols = itemid, names_from = contents, 
                       values_from = count,
                       values_fill = 0)
  Counts <- Counts[sort(names(Counts))] |>
    dplyr::relocate(itemid)
  
  dplyr::inner_join(Counts, Correct)
}

```
